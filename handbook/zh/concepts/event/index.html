<!doctype html>
<html data-n-head-ssr>
    <head>
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/apache/echarts-website@asf-site/zh/css/main.css">
        <title>Handbook - Apache ECharts</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" data-hid="description" name="description" content="Apache ECharts Handbook"><base href="/handbook/"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="https://cdn.jsdelivr.net/gh/apache/echarts-website@asf-site/zh/images/favicon.png"><link rel="preload" href="/handbook/_nuxt/a9bbbfa.js" as="script"><link rel="preload" href="/handbook/_nuxt/js/846067a4901846a78c55.js" as="script"><link rel="preload" href="/handbook/_nuxt/css/08bb349.css" as="style"><link rel="preload" href="/handbook/_nuxt/js/a6e0d8fa172ac07d4546.js" as="script"><link rel="preload" href="/handbook/_nuxt/css/cff74c8.css" as="style"><link rel="preload" href="/handbook/_nuxt/js/ef651565e34f4fce561e.js" as="script"><link rel="preload" href="/handbook/_nuxt/css/792c393.css" as="style"><link rel="preload" href="/handbook/_nuxt/js/5f203866781801df115b.js" as="script"><link rel="preload" href="/handbook/_nuxt/css/1c37eb7.css" as="style"><link rel="preload" href="/handbook/_nuxt/js/9fd40f9dd0812421e4d6.js" as="script"><link rel="stylesheet" href="/handbook/_nuxt/css/08bb349.css"><link rel="stylesheet" href="/handbook/_nuxt/css/cff74c8.css"><link rel="stylesheet" href="/handbook/_nuxt/css/792c393.css"><link rel="stylesheet" href="/handbook/_nuxt/css/1c37eb7.css">
    </head>
    <body>
        <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div><nav role="navigation" class="navbar navbar-default navbar-fixed-top"><div class="container-fluid"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false" class="navbar-toggle collapsed"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="https://echarts.apache.org/zh/index.html" class="navbar-brand"><img src="https://cdn.jsdelivr.net/gh/apache/echarts-website@asf-site/zh/images/logo.png?_v_=20200710_1" alt="echarts logo" class="navbar-logo"></a></div><div id="navbar-collapse" class="collapse navbar-collapse"><ul class="nav navbar-nav navbar-left"><li id="nav-index"><a href="https://echarts.apache.org/zh/index.html">首页</a></li><li id="nav-doc" class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">文档<b class="caret"></b></a><ul class="dropdown-menu"><li><a href="https://echarts.apache.org/zh/feature.html">特性</a></li><li><a href="https://echarts.apache.org/zh/tutorial.html">教程</a></li><li><a href="https://echarts.apache.org/zh/api.html">API</a></li><li><a href="https://echarts.apache.org/zh/option.html">配置项手册</a></li><li><a href="https://echarts.apache.org/zh/changelog.html">版本记录</a></li><li><a href="https://echarts.apache.org/zh/faq.html">常见问题</a></li><li><a href="https://echarts.apache.org/zh/tutorial.html#ECharts%205%20升级指南">v5 升级指南<span class="new">new</span></a></li></ul></li><li id="nav-download" class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">下载<b class="caret"></b></a><ul class="dropdown-menu"><li><a href="https://echarts.apache.org/zh/download.html">下载</a></li><li><a href="https://echarts.apache.org/zh/download-theme.html">主题下载</a></li><li><a href="https://echarts.apache.org/zh/download-extension.html">扩展下载</a></li></ul></li><li id="nav-examples"><a href="https://echarts.apache.org/examples/zh/index.html">示例</a></li><li id="nav-resources"><a href="#" data-toggle="dropdown" class="dropdown-toggle">资源<b class="caret"></b></a><ul class="dropdown-menu"><li><a href="https://echarts.apache.org/zh/spreadsheet.html">表格工具</a></li><li><a href="https://echarts.apache.org/zh/theme-builder.html">主题构建工具</a></li><li><a href="https://echarts.apache.org/zh/cheat-sheet.html">术语速查手册</a></li><li><a href="https://echarts.apache.org/zh/resources.html">更多资源</a></li></ul></li><li id="nav-contribute"><a href="#" data-toggle="dropdown" class="dropdown-toggle">社区<b class="caret"></b></a><ul class="dropdown-menu"><li><a href="https://echarts.apache.org/zh/events.html">活动</a></li><li><a href="https://echarts.apache.org/zh/committers.html">贡献者列表</a></li><li><a href="https://echarts.apache.org/zh/maillist.html">邮件列表</a></li><li><a href="https://echarts.apache.org/zh/contributing.html">如何贡献</a></li><li><a href="https://echarts.apache.org/zh/dependencies.html">依赖项</a></li><li><a href="https://echarts.apache.org/zh/coding-standard.html">代码规范</a></li><li><a href="https://github.com/apache/echarts" target="_blank">源码（GitHub）<svg width="15px" height="15px" viewbox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="icon-external-link"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a href="https://github.com/apache/echarts/issues" target="_blank">Issues（GitHub）<svg width="15px" height="15px" viewbox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="icon-external-link"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li id="nav-others"><a href="#" data-toggle="dropdown" class="dropdown-toggle">ASF<b class="caret"></b></a><ul class="dropdown-menu"><li><a href="https://www.apache.org/" target="_blank">Apache Software Foundation<svg width="15px" height="15px" viewbox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="icon-external-link"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a href="https://echarts.apache.org/zh/security.html">安全</a></li><li><a href="https://www.apache.org/licenses/" target="_blank">版权<svg width="15px" height="15px" viewbox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="icon-external-link"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a href="https://www.apache.org/events/current-event" target="_blank">活动<svg width="15px" height="15px" viewbox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="icon-external-link"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank">捐赠<svg width="15px" height="15px" viewbox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="icon-external-link"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a href="https://www.apache.org/foundation/thanks.html" target="_blank">鸣谢<svg width="15px" height="15px" viewbox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="icon-external-link"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul><ul class="nav navbar-nav navbar-right"><li id="nav-homeen"><a href="javascript:;" onclick='changeLang("en")'>EN</a></li></ul></div></div></nav> <div class="page-main"><div class="page-content handbook-content single-page container-fluid row flex-xl-nowrap"><div class="bd-sidebar border-bottom-0 col-sm-3 col-sm-9 col-md-2 col-md-10"><div class="bd-docs-nav"><ul class="nav bd-sidenav nav-root level0"><li class="nav-item"><a href="/handbook/zh/get-started" class="nav-link"><span class="title">快速上手</span></a> <!----></li><li class="nav-item"><div class="nav-link"><span class="title">入门篇</span></div> <ul class="nav bd-sidenav level1"><li class="nav-item"><a href="/handbook/zh/basics/download" class="nav-link"><span class="title">获取 ECharts</span></a> <!----></li><li class="nav-item"><a href="/handbook/zh/basics/import" class="nav-link"><span class="title">在项目中引入 ECharts</span></a> <!----></li><!----><li class="nav-item"><a href="/handbook/zh/basics/inspiration" class="nav-link"><span class="title">获取灵感</span></a> <!----></li><li class="nav-item"><a href="/handbook/zh/basics/help" class="nav-link"><span class="title">寻求帮助</span></a> <!----></li><li class="nav-item"><a class="nav-link"><span class="title">版本介绍</span> <span class="glyphicon glyphicon-menu-down"></span></a> <!----></li></ul></li><li class="nav-item"><div class="nav-link"><span class="title">概念篇</span></div> <ul class="nav bd-sidenav level1"><li class="nav-item"><a href="/handbook/zh/concepts/chart-size" class="nav-link"><span class="title">图表容器及大小</span></a> <!----></li><!----><!----><li class="nav-item"><a href="/handbook/zh/concepts/style" class="nav-link"><span class="title">样式</span></a> <!----></li><li class="nav-item"><a href="/handbook/zh/concepts/dataset" class="nav-link"><span class="title">数据集</span></a> <!----></li><li class="nav-item"><a href="/handbook/zh/concepts/data-transform" class="nav-link"><span class="title">数据转换</span></a> <!----></li><!----><li class="nav-item"><a href="/handbook/zh/concepts/axis" class="nav-link"><span class="title">坐标轴</span></a> <!----></li><li class="nav-item"><a href="/handbook/zh/concepts/visual-map" class="nav-link"><span class="title">视觉映射</span></a> <!----></li><li class="nav-item"><a href="/handbook/zh/concepts/legend" class="nav-link"><span class="title">图例</span></a> <!----></li><li class="nav-item"><a href="/handbook/zh/concepts/event" aria-current="page" class="nav-link nuxt-link-exact-active nuxt-link-active"><span class="title">事件与行为</span></a> <!----></li></ul></li><li class="nav-item"><div class="nav-link"><span class="title">应用篇</span></div> <ul class="nav bd-sidenav level1"><li class="nav-item"><a class="nav-link"><span class="title">常用图表类型</span> <span class="glyphicon glyphicon-menu-down"></span></a> <!----></li><!----><li class="nav-item"><a class="nav-link"><span class="title">跨平台方案</span> <span class="glyphicon glyphicon-menu-down"></span></a> <!----></li><li class="nav-item"><a class="nav-link"><span class="title">数据处理</span> <span class="glyphicon glyphicon-menu-down"></span></a> <!----></li><li class="nav-item"><a class="nav-link"><span class="title">标签</span> <span class="glyphicon glyphicon-menu-down"></span></a> <!----></li><li class="nav-item"><a class="nav-link"><span class="title">交互</span> <span class="glyphicon glyphicon-menu-down"></span></a> <!----></li></ul></li><li class="nav-item"><div class="nav-link"><span class="title">最佳实践</span></div> <ul class="nav bd-sidenav level1"><!----><li class="nav-item"><a href="/handbook/zh/best-practice/canvas-vs-svg" class="nav-link"><span class="title">Canvas vs. SVG</span></a> <!----></li><li class="nav-item"><a href="/handbook/zh/best-practice/aria" class="nav-link"><span class="title">无障碍访问</span></a> <!----></li></ul></li><li class="nav-item"><div class="nav-link"><span class="title">编辑本文档</span></div> <ul class="nav bd-sidenav level1"><li class="nav-item"><a href="/handbook/zh/meta/edit-guide" class="nav-link"><span class="title">文档编辑指南</span></a> <!----></li></ul></li></ul></div></div> <div class="bd-content col-sm-7 pl-sm-2 col-12"><div class="post-content content"><div><div class="post-inner"><div class="nuxt-content"><h1 id="事件与行为"><a href="#%E4%BA%8B%E4%BB%B6%E4%B8%8E%E8%A1%8C%E4%B8%BA" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>事件与行为</h1>
<p>在 Apache ECharts 的图表中用户的操作将会触发相应的事件。开发者可以监听这些事件，然后通过回调函数做相应的处理，比如跳转到一个地址，或者弹出对话框，或者做数据下钻等等。</p>
<p>ECharts 中的事件名称对应 DOM 事件名称，均为小写的字符串，如下是一个绑定点击操作的示例。</p>
<div class="nuxt-content-highlight"><div class="md-code-block"><div class="nuxt-content-highlight"><pre class="language-js line-numbers"><code></code></pre></div> <!----> <div class="clipboard" data-v-479657ca><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-6 w-6" data-v-479657ca><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-6 w-6" data-v-479657ca><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" data-v-479657ca></path></svg></svg></div></div></div>
<p>在 ECharts 中事件分为两种类型，一种是用户鼠标操作点击，或者 hover 图表的图形时触发的事件，还有一种是用户在使用可以交互的组件后触发的行为事件，例如在切换图例开关时触发的 <a href="https://echarts.apache.org/api.html#events.legendselectchanged" rel="nofollow noopener noreferrer" target="_blank">'legendselectchanged'</a> 事件（这里需要注意切换图例开关是不会触发 <code>'legendselected'</code> 事件的），数据区域缩放时触发的 <a href="https://echarts.apache.org/api.html#events.legendselectchanged" rel="nofollow noopener noreferrer" target="_blank">'datazoom'</a> 事件等等。</p>
<h2 id="鼠标事件的处理"><a href="#%E9%BC%A0%E6%A0%87%E4%BA%8B%E4%BB%B6%E7%9A%84%E5%A4%84%E7%90%86" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>鼠标事件的处理</h2>
<p>ECharts 支持常规的鼠标事件类型，包括 <code>'click'</code>、 <code>'dblclick'</code>、 <code>'mousedown'</code>、 <code>'mousemove'</code>、 <code>'mouseup'</code>、 <code>'mouseover'</code>、 <code>'mouseout'</code>、 <code>'globalout'</code>、 <code>'contextmenu'</code> 事件。下面先来看一个简单的点击柱状图后打开相应的百度搜索页面的示例。</p>
<div class="nuxt-content-highlight"><!----></div>
<p>所有的鼠标事件包含参数 <code>params</code>，这是一个包含点击图形的数据信息的对象，如下格式：</p>
<div class="nuxt-content-highlight"><div class="md-code-block"><div class="nuxt-content-highlight"><pre class="language-ts line-numbers"><code></code></pre></div> <!----> <div class="clipboard" data-v-479657ca><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-6 w-6" data-v-479657ca><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-6 w-6" data-v-479657ca><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" data-v-479657ca></path></svg></svg></div></div></div>
<p>如何区分鼠标点击到了哪里：</p>
<div class="nuxt-content-highlight"><div class="md-code-block"><div class="nuxt-content-highlight"><pre class="language-js line-numbers"><code></code></pre></div> <!----> <div class="clipboard" data-v-479657ca><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-6 w-6" data-v-479657ca><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-6 w-6" data-v-479657ca><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" data-v-479657ca></path></svg></svg></div></div></div>
<p>使用 <code>query</code> 只对指定的组件的图形元素的触发回调：</p>
<div class="nuxt-content-highlight"><div class="md-code-block"><div class="nuxt-content-highlight"><pre class="language-js line-numbers"><code></code></pre></div> <!----> <div class="clipboard" data-v-479657ca><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-6 w-6" data-v-479657ca><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-6 w-6" data-v-479657ca><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" data-v-479657ca></path></svg></svg></div></div></div>
<p><code>query</code> 可为 <code>string</code> 或者 <code>Object</code>。</p>
<p>如果为 <code>string</code> 表示组件类型。格式可以是 'mainType' 或者 'mainType.subType'。例如：</p>
<div class="nuxt-content-highlight"><div class="md-code-block"><div class="nuxt-content-highlight"><pre class="language-js line-numbers"><code></code></pre></div> <!----> <div class="clipboard" data-v-479657ca><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-6 w-6" data-v-479657ca><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-6 w-6" data-v-479657ca><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" data-v-479657ca></path></svg></svg></div></div></div>
<p>如果为 <code>Object</code>，可以包含以下一个或多个属性，每个属性都是可选的：</p>
<div class="nuxt-content-highlight"><div class="md-code-block"><div class="nuxt-content-highlight"><pre class="language-ts line-numbers"><code></code></pre></div> <!----> <div class="clipboard" data-v-479657ca><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-6 w-6" data-v-479657ca><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-6 w-6" data-v-479657ca><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" data-v-479657ca></path></svg></svg></div></div></div>
<p>例如：</p>
<div class="nuxt-content-highlight"><div class="md-code-block"><div class="nuxt-content-highlight"><pre class="language-js line-numbers"><code></code></pre></div> <!----> <div class="clipboard" data-v-479657ca><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-6 w-6" data-v-479657ca><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-6 w-6" data-v-479657ca><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" data-v-479657ca></path></svg></svg></div></div></div>
<p>例如：</p>
<div class="nuxt-content-highlight"><div class="md-code-block"><div class="nuxt-content-highlight"><pre class="language-js line-numbers"><code></code></pre></div> <!----> <div class="clipboard" data-v-479657ca><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-6 w-6" data-v-479657ca><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-6 w-6" data-v-479657ca><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" data-v-479657ca></path></svg></svg></div></div></div>
<p>例如：</p>
<div class="nuxt-content-highlight"><div class="md-code-block"><div class="nuxt-content-highlight"><pre class="language-js line-numbers"><code></code></pre></div> <!----> <div class="clipboard" data-v-479657ca><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-6 w-6" data-v-479657ca><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-6 w-6" data-v-479657ca><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" data-v-479657ca></path></svg></svg></div></div></div>
<p>例如：</p>
<div class="nuxt-content-highlight"><div class="md-code-block"><div class="nuxt-content-highlight"><pre class="language-js line-numbers"><code></code></pre></div> <!----> <div class="clipboard" data-v-479657ca><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-6 w-6" data-v-479657ca><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-6 w-6" data-v-479657ca><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" data-v-479657ca></path></svg></svg></div></div></div>
<p>你可以在回调函数中获得这个对象中的数据名、系列名称后在自己的数据仓库中索引得到其它的信息后更新图表，显示浮层等等，如下示例代码：</p>
<div class="nuxt-content-highlight"><div class="md-code-block"><div class="nuxt-content-highlight"><pre class="language-js line-numbers"><code></code></pre></div> <!----> <div class="clipboard" data-v-479657ca><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-6 w-6" data-v-479657ca><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-6 w-6" data-v-479657ca><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" data-v-479657ca></path></svg></svg></div></div></div>
<h2 id="组件交互的行为事件"><a href="#%E7%BB%84%E4%BB%B6%E4%BA%A4%E4%BA%92%E7%9A%84%E8%A1%8C%E4%B8%BA%E4%BA%8B%E4%BB%B6" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>组件交互的行为事件</h2>
<p>在 ECharts 中基本上所有的组件交互行为都会触发相应的事件，常用的事件和事件对应参数在 <a href="https://echarts.apache.org//api.html#events" rel="nofollow noopener noreferrer" target="_blank">events</a> 文档中有列出。</p>
<p>下面是监听一个图例开关的示例：</p>
<div class="nuxt-content-highlight"><div class="md-code-block"><div class="nuxt-content-highlight"><pre class="language-js line-numbers"><code></code></pre></div> <!----> <div class="clipboard" data-v-479657ca><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-6 w-6" data-v-479657ca><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-6 w-6" data-v-479657ca><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" data-v-479657ca></path></svg></svg></div></div></div>
<h2 id="代码触发-echarts-中组件的行为"><a href="#%E4%BB%A3%E7%A0%81%E8%A7%A6%E5%8F%91-echarts-%E4%B8%AD%E7%BB%84%E4%BB%B6%E7%9A%84%E8%A1%8C%E4%B8%BA" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>代码触发 ECharts 中组件的行为</h2>
<p>上面提到诸如 <code>'legendselectchanged'</code> 事件会由组件交互的行为触发，那除了用户的交互操作，有时候也会有需要在程序里调用方法触发图表的行为，诸如显示 tooltip，选中图例。</p>
<p>在 ECharts 通过调用 <code>myChart.dispatchAction({ type: '' })</code> 触发图表行为，统一管理了所有动作，也可以方便地根据需要去记录用户的行为路径。</p>
<p>常用的动作和动作对应参数在 <a href="https://echarts.apache.org//api.html#action" rel="nofollow noopener noreferrer" target="_blank">action</a> 文档中有列出。</p>
<p>下面示例演示了如何通过 <code>dispatchAction</code> 去轮流高亮饼图的每个扇形。</p>
<div class="nuxt-content-highlight"><!----></div>
<h2 id="监听空白处的事件"><a href="#%E7%9B%91%E5%90%AC%E7%A9%BA%E7%99%BD%E5%A4%84%E7%9A%84%E4%BA%8B%E4%BB%B6" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>监听“空白处”的事件</h2>
<p>有时候，开发者需要监听画布的“空白处”所触发的事件。比如，当需要在用户点击“空白处”的时候重置图表时。</p>
<p>在讨论这个功能之前，我们需要先明确两种事件。zrender 事件和 echarts 事件。</p>
<div class="nuxt-content-highlight"><div class="md-code-block"><div class="nuxt-content-highlight"><pre class="language-js line-numbers"><code></code></pre></div> <!----> <div class="clipboard" data-v-479657ca><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-6 w-6" data-v-479657ca><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-6 w-6" data-v-479657ca><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" data-v-479657ca></path></svg></svg></div></div></div>
<p>zrender 事件与 echarts 事件不同。前者是当鼠标在任何地方都会被触发，而后者是只有当鼠标在图形元素上时才能被触发。事实上，echarts 事件是在 zrender 事件的基础上实现的，也就是说，当一个 zrender 事件在图形元素上被触发时，echarts 将触发一个 echarts 事件给开发者。</p>
<p>有了 zrender 事件，我们就可以实现监听空白处的事件，具体如下：</p>
<div class="nuxt-content-highlight"><div class="md-code-block"><div class="nuxt-content-highlight"><pre class="language-js line-numbers"><code></code></pre></div> <!----> <div class="clipboard" data-v-479657ca><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-6 w-6" data-v-479657ca><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-6 w-6" data-v-479657ca><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" data-v-479657ca></path></svg></svg></div></div></div></div> <div class="table-of-contents"><h4 class="toc-container-header">本页目录</h4> <ul><li class="toc2"><a href="/handbook/zh/concepts/event#%E9%BC%A0%E6%A0%87%E4%BA%8B%E4%BB%B6%E7%9A%84%E5%A4%84%E7%90%86">鼠标事件的处理</a></li><li class="toc2"><a href="/handbook/zh/concepts/event#%E7%BB%84%E4%BB%B6%E4%BA%A4%E4%BA%92%E7%9A%84%E8%A1%8C%E4%B8%BA%E4%BA%8B%E4%BB%B6">组件交互的行为事件</a></li><li class="toc2"><a href="/handbook/zh/concepts/event#%E4%BB%A3%E7%A0%81%E8%A7%A6%E5%8F%91-echarts-%E4%B8%AD%E7%BB%84%E4%BB%B6%E7%9A%84%E8%A1%8C%E4%B8%BA">代码触发 ECharts 中组件的行为</a></li><li class="toc2"><a href="/handbook/zh/concepts/event#%E7%9B%91%E5%90%AC%E7%A9%BA%E7%99%BD%E5%A4%84%E7%9A%84%E4%BA%8B%E4%BB%B6">监听“空白处”的事件</a></li></ul></div></div> <div class="post-contributors"><h3><span class="inline-block align-middle">本文贡献者</span> <a target="_blank" href="https://github.com/apache/echarts-handbook/tree/master/contents/zh/concepts/event.md" title="编辑本文" class="inline-block align-middle text-sm"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-8 w-8 inline-block align-middle"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg> <span class="inline-block align-middle">在 GitHub 上编辑本页</span></a></h3> <div class="post-contributors-list"><a href="https://github.com/100pah" target="_blank" class="post-contributor"><img alt="100pah" src="https://avatars.githubusercontent.com/100pah?size=60"> <span>100pah</span></a><a href="https://github.com/Ovilia" target="_blank" class="post-contributor"><img alt="Ovilia" src="https://avatars.githubusercontent.com/Ovilia?size=60"> <span>Ovilia</span></a><a href="https://github.com/huanghan01" target="_blank" class="post-contributor"><img alt="huanghan01" src="https://avatars.githubusercontent.com/huanghan01?size=60"> <span>huanghan01</span></a><a href="https://github.com/pissang" target="_blank" class="post-contributor"><img alt="pissang" src="https://avatars.githubusercontent.com/pissang?size=60"> <span>pissang</span></a><a href="https://github.com/plainheart" target="_blank" class="post-contributor"><img alt="plainheart" src="https://avatars.githubusercontent.com/plainheart?size=60"> <span>plainheart</span></a></div></div></div></div></div></div> <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/github-gist.min.css"></div></div></div></div><script>window.__NUXT__=function(e,t,a,n,i,r,l,p,d,s,c,o,h,y,u,g,m,v,f,E,B,x,b,C,A,k,I,T,N,w,P,S,z,D,L,O,R,_,H,$,G,M,V,Z,U,j,q,F,X,W,J,K,Q,Y,ee,te,ae,ne,ie,re,le,pe,de,se,ce,oe,he,ye,ue,ge,me,ve,fe,Ee,Be,xe,be,Ce,Ae,ke,Ie,Te,Ne,we,Pe){return{layout:"default",data:[{article:{slug:I,toc:[{id:v,depth:2,text:v},{id:f,depth:2,text:f},{id:w,depth:2,text:P},{id:S,depth:2,text:z}],body:{type:"root",children:[{type:t,tag:"h1",props:{id:T},children:[{type:t,tag:o,props:{href:"#%E4%BA%8B%E4%BB%B6%E4%B8%8E%E8%A1%8C%E4%B8%BA",ariaHidden:y,tabIndex:-1},children:[{type:t,tag:u,props:{className:[g,m]},children:[]}]},{type:e,value:T}]},{type:e,value:a},{type:t,tag:r,props:{},children:[{type:e,value:"在 Apache ECharts 的图表中用户的操作将会触发相应的事件。开发者可以监听这些事件，然后通过回调函数做相应的处理，比如跳转到一个地址，或者弹出对话框，或者做数据下钻等等。"}]},{type:e,value:a},{type:t,tag:r,props:{},children:[{type:e,value:"ECharts 中的事件名称对应 DOM 事件名称，均为小写的字符串，如下是一个绑定点击操作的示例。"}]},{type:e,value:a},{type:t,tag:p,props:{className:[d]},children:[{type:t,tag:s,props:{lang:c,"line-highlights":n,"file-name":n},children:[{type:e,value:"myChart.on('click', function(params) {\n  // 控制台打印数据的名称\n  console.log(params.name);\n});\n"}]}]},{type:e,value:a},{type:t,tag:r,props:{},children:[{type:e,value:"在 ECharts 中事件分为两种类型，一种是用户鼠标操作点击，或者 hover 图表的图形时触发的事件，还有一种是用户在使用可以交互的组件后触发的行为事件，例如在切换图例开关时触发的 "},{type:t,tag:o,props:{href:D,rel:[E,B,x],target:b},children:[{type:e,value:L}]},{type:e,value:" 事件（这里需要注意切换图例开关是不会触发 "},{type:t,tag:l,props:{},children:[{type:e,value:"'legendselected'"}]},{type:e,value:" 事件的），数据区域缩放时触发的 "},{type:t,tag:o,props:{href:D,rel:[E,B,x],target:b},children:[{type:e,value:"'datazoom'"}]},{type:e,value:" 事件等等。"}]},{type:e,value:a},{type:t,tag:C,props:{id:v},children:[{type:t,tag:o,props:{href:"#%E9%BC%A0%E6%A0%87%E4%BA%8B%E4%BB%B6%E7%9A%84%E5%A4%84%E7%90%86",ariaHidden:y,tabIndex:-1},children:[{type:t,tag:u,props:{className:[g,m]},children:[]}]},{type:e,value:v}]},{type:e,value:a},{type:t,tag:r,props:{},children:[{type:e,value:"ECharts 支持常规的鼠标事件类型，包括 "},{type:t,tag:l,props:{},children:[{type:e,value:"'click'"}]},{type:e,value:h},{type:t,tag:l,props:{},children:[{type:e,value:"'dblclick'"}]},{type:e,value:h},{type:t,tag:l,props:{},children:[{type:e,value:"'mousedown'"}]},{type:e,value:h},{type:t,tag:l,props:{},children:[{type:e,value:"'mousemove'"}]},{type:e,value:h},{type:t,tag:l,props:{},children:[{type:e,value:"'mouseup'"}]},{type:e,value:h},{type:t,tag:l,props:{},children:[{type:e,value:"'mouseover'"}]},{type:e,value:h},{type:t,tag:l,props:{},children:[{type:e,value:"'mouseout'"}]},{type:e,value:h},{type:t,tag:l,props:{},children:[{type:e,value:"'globalout'"}]},{type:e,value:h},{type:t,tag:l,props:{},children:[{type:e,value:"'contextmenu'"}]},{type:e,value:" 事件。下面先来看一个简单的点击柱状图后打开相应的百度搜索页面的示例。"}]},{type:e,value:a},{type:t,tag:p,props:{className:[d]},children:[{type:t,tag:O,props:{lang:c,layout:"tb"},children:[{type:e,value:"// 基于准备好的dom，初始化ECharts实例\n// var myChart = echarts.init(document.getElementById('main'));\n\n// 指定图表的配置项和数据\nvar option = {\n  xAxis: {\n    data: ['衬衫', '羊毛衫', '雪纺衫', '裤子', '高跟鞋', '袜子']\n  },\n  yAxis: {},\n  series: [\n    {\n      name: '销量',\n      type: 'bar',\n      data: [5, 20, 36, 10, 10, 20]\n    }\n  ]\n};\n// 使用刚指定的配置项和数据显示图表。\nmyChart.setOption(option);\n// 处理点击事件并且跳转到相应的百度搜索页面\nmyChart.on('click', function(params) {\n  window.open('https://www.baidu.com/s?wd=' + encodeURIComponent(params.name));\n});\n"}]}]},{type:e,value:a},{type:t,tag:r,props:{},children:[{type:e,value:"所有的鼠标事件包含参数 "},{type:t,tag:l,props:{},children:[{type:e,value:"params"}]},{type:e,value:"，这是一个包含点击图形的数据信息的对象，如下格式："}]},{type:e,value:a},{type:t,tag:p,props:{className:[d]},children:[{type:t,tag:s,props:{lang:"ts","line-highlights":n,"file-name":n},children:[{type:e,value:"type EventParams = {\n  // 当前点击的图形元素所属的组件名称，\n  // 其值如 'series'、'markLine'、'markPoint'、'timeLine' 等。\n  componentType: string;\n  // 系列类型。值可能为：'line'、'bar'、'pie' 等。当 componentType 为 'series' 时有意义。\n  seriesType: string;\n  // 系列在传入的 option.series 中的 index。当 componentType 为 'series' 时有意义。\n  seriesIndex: number;\n  // 系列名称。当 componentType 为 'series' 时有意义。\n  seriesName: string;\n  // 数据名，类目名\n  name: string;\n  // 数据在传入的 data 数组中的 index\n  dataIndex: number;\n  // 传入的原始数据项\n  data: Object;\n  // sankey、graph 等图表同时含有 nodeData 和 edgeData 两种 data，\n  // dataType 的值会是 'node' 或者 'edge'，表示当前点击在 node 还是 edge 上。\n  // 其他大部分图表中只有一种 data，dataType 无意义。\n  dataType: string;\n  // 传入的数据值\n  value: number | Array;\n  // 数据图形的颜色。当 componentType 为 'series' 时有意义。\n  color: string;\n};\n"}]}]},{type:e,value:a},{type:t,tag:r,props:{},children:[{type:e,value:"如何区分鼠标点击到了哪里："}]},{type:e,value:a},{type:t,tag:p,props:{className:[d]},children:[{type:t,tag:s,props:{lang:c,"line-highlights":n,"file-name":n},children:[{type:e,value:"myChart.on('click', function(params) {\n  if (params.componentType === 'markPoint') {\n    // 点击到了 markPoint 上\n    if (params.seriesIndex === 5) {\n      // 点击到了 index 为 5 的 series 的 markPoint 上。\n    }\n  } else if (params.componentType === 'series') {\n    if (params.seriesType === 'graph') {\n      if (params.dataType === 'edge') {\n        // 点击到了 graph 的 edge（边）上。\n      } else {\n        // 点击到了 graph 的 node（节点）上。\n      }\n    }\n  }\n});\n"}]}]},{type:e,value:a},{type:t,tag:r,props:{},children:[{type:e,value:"使用 "},{type:t,tag:l,props:{},children:[{type:e,value:R}]},{type:e,value:" 只对指定的组件的图形元素的触发回调："}]},{type:e,value:a},{type:t,tag:p,props:{className:[d]},children:[{type:t,tag:s,props:{lang:c,"line-highlights":n,"file-name":n},children:[{type:e,value:"chart.on(eventName, query, handler);\n"}]}]},{type:e,value:a},{type:t,tag:r,props:{},children:[{type:t,tag:l,props:{},children:[{type:e,value:R}]},{type:e,value:" 可为 "},{type:t,tag:l,props:{},children:[{type:e,value:_}]},{type:e,value:" 或者 "},{type:t,tag:l,props:{},children:[{type:e,value:H}]},{type:e,value:"。"}]},{type:e,value:a},{type:t,tag:r,props:{},children:[{type:e,value:$},{type:t,tag:l,props:{},children:[{type:e,value:_}]},{type:e,value:" 表示组件类型。格式可以是 'mainType' 或者 'mainType.subType'。例如："}]},{type:e,value:a},{type:t,tag:p,props:{className:[d]},children:[{type:t,tag:s,props:{lang:c,"line-highlights":n,"file-name":n},children:[{type:e,value:"chart.on('click', 'series', function() {});\nchart.on('click', 'series.line', function() {});\nchart.on('click', 'dataZoom', function() {});\nchart.on('click', 'xAxis.category', function() {});\n"}]}]},{type:e,value:a},{type:t,tag:r,props:{},children:[{type:e,value:$},{type:t,tag:l,props:{},children:[{type:e,value:H}]},{type:e,value:"，可以包含以下一个或多个属性，每个属性都是可选的："}]},{type:e,value:a},{type:t,tag:p,props:{className:[d]},children:[{type:t,tag:s,props:{lang:"ts","line-highlights":n,"file-name":n},children:[{type:e,value:"{\n  ${mainType}Index: number // 组件 index\n  ${mainType}Name: string // 组件 name\n  ${mainType}Id: string // 组件 id\n  dataIndex: number // 数据项 index\n  name: string // 数据项 name\n  dataType: string // 数据项 type，如关系图中的 'node', 'edge'\n  element: string // 自定义系列中的 el 的 name\n}\n"}]}]},{type:e,value:a},{type:t,tag:r,props:{},children:[{type:e,value:A}]},{type:e,value:a},{type:t,tag:p,props:{className:[d]},children:[{type:t,tag:s,props:{lang:c,"line-highlights":n,"file-name":n},children:[{type:e,value:"chart.setOption({\n  // ...\n  series: [\n    {\n      name: 'uuu'\n      // ...\n    }\n  ]\n});\nchart.on('mouseover', { seriesName: 'uuu' }, function() {\n  // series name 为 'uuu' 的系列中的图形元素被 'mouseover' 时，此方法被回调。\n});\n"}]}]},{type:e,value:a},{type:t,tag:r,props:{},children:[{type:e,value:A}]},{type:e,value:a},{type:t,tag:p,props:{className:[d]},children:[{type:t,tag:s,props:{lang:c,"line-highlights":n,"file-name":n},children:[{type:e,value:"chart.setOption({\n  // ...\n  series: [\n    {\n      // ...\n    },\n    {\n      // ...\n      data: [\n        { name: 'xx', value: 121 },\n        { name: 'yy', value: 33 }\n      ]\n    }\n  ]\n});\nchart.on('mouseover', { seriesIndex: 1, name: 'xx' }, function() {\n  // series index 1 的系列中的 name 为 'xx' 的元素被 'mouseover' 时，此方法被回调。\n});\n"}]}]},{type:e,value:a},{type:t,tag:r,props:{},children:[{type:e,value:A}]},{type:e,value:a},{type:t,tag:p,props:{className:[d]},children:[{type:t,tag:s,props:{lang:c,"line-highlights":n,"file-name":n},children:[{type:e,value:"chart.setOption({\n  // ...\n  series: [\n    {\n      type: 'graph',\n      nodes: [\n        { name: 'a', value: 10 },\n        { name: 'b', value: 20 }\n      ],\n      edges: [{ source: 0, target: 1 }]\n    }\n  ]\n});\nchart.on('click', { dataType: 'node' }, function() {\n  // 关系图的节点被点击时此方法被回调。\n});\nchart.on('click', { dataType: 'edge' }, function() {\n  // 关系图的边被点击时此方法被回调。\n});\n"}]}]},{type:e,value:a},{type:t,tag:r,props:{},children:[{type:e,value:A}]},{type:e,value:a},{type:t,tag:p,props:{className:[d]},children:[{type:t,tag:s,props:{lang:c,"line-highlights":n,"file-name":n},children:[{type:e,value:"chart.setOption({\n  // ...\n  series: {\n    // ...\n    type: 'custom',\n    renderItem: function(params, api) {\n      return {\n        type: 'group',\n        children: [\n          {\n            type: 'circle',\n            name: 'my_el'\n            // ...\n          },\n          {\n            // ...\n          }\n        ]\n      };\n    },\n    data: [[12, 33]]\n  }\n});\nchart.on('mouseup', { element: 'my_el' }, function() {\n  // name 为 'my_el' 的元素被 'mouseup' 时，此方法被回调。\n});\n"}]}]},{type:e,value:a},{type:t,tag:r,props:{},children:[{type:e,value:"你可以在回调函数中获得这个对象中的数据名、系列名称后在自己的数据仓库中索引得到其它的信息后更新图表，显示浮层等等，如下示例代码："}]},{type:e,value:a},{type:t,tag:p,props:{className:[d]},children:[{type:t,tag:s,props:{lang:c,"line-highlights":n,"file-name":n},children:[{type:e,value:"myChart.on('click', function(parmas) {\n  $.get('detail?q=' + params.name, function(detail) {\n    myChart.setOption({\n      series: [\n        {\n          name: 'pie',\n          // 通过饼图表现单个柱子中的数据分布\n          data: [detail.data]\n        }\n      ]\n    });\n  });\n});\n"}]}]},{type:e,value:a},{type:t,tag:C,props:{id:f},children:[{type:t,tag:o,props:{href:"#%E7%BB%84%E4%BB%B6%E4%BA%A4%E4%BA%92%E7%9A%84%E8%A1%8C%E4%B8%BA%E4%BA%8B%E4%BB%B6",ariaHidden:y,tabIndex:-1},children:[{type:t,tag:u,props:{className:[g,m]},children:[]}]},{type:e,value:f}]},{type:e,value:a},{type:t,tag:r,props:{},children:[{type:e,value:"在 ECharts 中基本上所有的组件交互行为都会触发相应的事件，常用的事件和事件对应参数在 "},{type:t,tag:o,props:{href:"https://echarts.apache.org//api.html#events",rel:[E,B,x],target:b},children:[{type:e,value:"events"}]},{type:e,value:G}]},{type:e,value:a},{type:t,tag:r,props:{},children:[{type:e,value:"下面是监听一个图例开关的示例："}]},{type:e,value:a},{type:t,tag:p,props:{className:[d]},children:[{type:t,tag:s,props:{lang:c,"line-highlights":n,"file-name":n},children:[{type:e,value:"// 图例开关的行为只会触发 legendselectchanged 事件\nmyChart.on('legendselectchanged', function(params) {\n  // 获取点击图例的选中状态\n  var isSelected = params.selected[params.name];\n  // 在控制台中打印\n  console.log((isSelected ? '选中了' : '取消选中了') + '图例' + params.name);\n  // 打印所有图例的状态\n  console.log(params.selected);\n});\n"}]}]},{type:e,value:a},{type:t,tag:C,props:{id:w},children:[{type:t,tag:o,props:{href:"#%E4%BB%A3%E7%A0%81%E8%A7%A6%E5%8F%91-echarts-%E4%B8%AD%E7%BB%84%E4%BB%B6%E7%9A%84%E8%A1%8C%E4%B8%BA",ariaHidden:y,tabIndex:-1},children:[{type:t,tag:u,props:{className:[g,m]},children:[]}]},{type:e,value:P}]},{type:e,value:a},{type:t,tag:r,props:{},children:[{type:e,value:"上面提到诸如 "},{type:t,tag:l,props:{},children:[{type:e,value:L}]},{type:e,value:" 事件会由组件交互的行为触发，那除了用户的交互操作，有时候也会有需要在程序里调用方法触发图表的行为，诸如显示 tooltip，选中图例。"}]},{type:e,value:a},{type:t,tag:r,props:{},children:[{type:e,value:"在 ECharts 通过调用 "},{type:t,tag:l,props:{},children:[{type:e,value:"myChart.dispatchAction({ type: '' })"}]},{type:e,value:" 触发图表行为，统一管理了所有动作，也可以方便地根据需要去记录用户的行为路径。"}]},{type:e,value:a},{type:t,tag:r,props:{},children:[{type:e,value:"常用的动作和动作对应参数在 "},{type:t,tag:o,props:{href:"https://echarts.apache.org//api.html#action",rel:[E,B,x],target:b},children:[{type:e,value:"action"}]},{type:e,value:G}]},{type:e,value:a},{type:t,tag:r,props:{},children:[{type:e,value:"下面示例演示了如何通过 "},{type:t,tag:l,props:{},children:[{type:e,value:"dispatchAction"}]},{type:e,value:" 去轮流高亮饼图的每个扇形。"}]},{type:e,value:a},{type:t,tag:p,props:{className:[d]},children:[{type:t,tag:O,props:{lang:c,layout:"tb"},children:[{type:e,value:"option = {\n  title: {\n    text: '饼图程序调用高亮示例',\n    left: 'center'\n  },\n  tooltip: {\n    trigger: 'item',\n    formatter: '{a} <br/>{b} : {c} ({d}%)'\n  },\n  legend: {\n    orient: 'vertical',\n    left: 'left',\n    data: ['直接访问', '邮件营销', '联盟广告', '视频广告', '搜索引擎']\n  },\n  series: [\n    {\n      name: '访问来源',\n      type: 'pie',\n      radius: '55%',\n      center: ['50%', '60%'],\n      data: [\n        { value: 335, name: '直接访问' },\n        { value: 310, name: '邮件营销' },\n        { value: 234, name: '联盟广告' },\n        { value: 135, name: '视频广告' },\n        { value: 1548, name: '搜索引擎' }\n      ],\n      emphasis: {\n        itemStyle: {\n          shadowBlur: 10,\n          shadowOffsetX: 0,\n          shadowColor: 'rgba(0, 0, 0, 0.5)'\n        }\n      }\n    }\n  ]\n};\n\nlet currentIndex = -1;\n\nsetInterval(function() {\n  var dataLen = option.series[0].data.length;\n  // 取消之前高亮的图形\n  myChart.dispatchAction({\n    type: 'downplay',\n    seriesIndex: 0,\n    dataIndex: currentIndex\n  });\n  currentIndex = (currentIndex + 1) % dataLen;\n  // 高亮当前图形\n  myChart.dispatchAction({\n    type: 'highlight',\n    seriesIndex: 0,\n    dataIndex: currentIndex\n  });\n  // 显示 tooltip\n  myChart.dispatchAction({\n    type: 'showTip',\n    seriesIndex: 0,\n    dataIndex: currentIndex\n  });\n}, 1000);\n"}]}]},{type:e,value:a},{type:t,tag:C,props:{id:S},children:[{type:t,tag:o,props:{href:"#%E7%9B%91%E5%90%AC%E7%A9%BA%E7%99%BD%E5%A4%84%E7%9A%84%E4%BA%8B%E4%BB%B6",ariaHidden:y,tabIndex:-1},children:[{type:t,tag:u,props:{className:[g,m]},children:[]}]},{type:e,value:z}]},{type:e,value:a},{type:t,tag:r,props:{},children:[{type:e,value:"有时候，开发者需要监听画布的“空白处”所触发的事件。比如，当需要在用户点击“空白处”的时候重置图表时。"}]},{type:e,value:a},{type:t,tag:r,props:{},children:[{type:e,value:"在讨论这个功能之前，我们需要先明确两种事件。zrender 事件和 echarts 事件。"}]},{type:e,value:a},{type:t,tag:p,props:{className:[d]},children:[{type:t,tag:s,props:{lang:c,"line-highlights":n,"file-name":n},children:[{type:e,value:"myChart.getZr().on('click', function(event) {\n  // 该监听器正在监听一个`zrender 事件`。\n});\nmyChart.on('click', function(event) {\n  // 该监听器正在监听一个`echarts 事件`。\n});\n"}]}]},{type:e,value:a},{type:t,tag:r,props:{},children:[{type:e,value:"zrender 事件与 echarts 事件不同。前者是当鼠标在任何地方都会被触发，而后者是只有当鼠标在图形元素上时才能被触发。事实上，echarts 事件是在 zrender 事件的基础上实现的，也就是说，当一个 zrender 事件在图形元素上被触发时，echarts 将触发一个 echarts 事件给开发者。"}]},{type:e,value:a},{type:t,tag:r,props:{},children:[{type:e,value:"有了 zrender 事件，我们就可以实现监听空白处的事件，具体如下："}]},{type:e,value:a},{type:t,tag:p,props:{className:[d]},children:[{type:t,tag:s,props:{lang:c,"line-highlights":n,"file-name":n},children:[{type:e,value:"myChart.getZr().on('click', function(event) {\n  // 没有 target 意味着鼠标/指针不在任何一个图形元素上，它是从“空白处”触发的。\n  if (!event.target) {\n    // 点击在了空白处，做些什么。\n  }\n});\n"}]}]}]},dir:"/zh/concepts",path:M,extension:".md",createdAt:"2021-06-04T12:26:37.934Z",updatedAt:"2021-07-21T11:12:44.166Z"},postPath:"zh/concepts/event"}],fetch:{},error:V,state:{filled:!1,docVersion:n,ghVersion:n,visibleAffix:!1,homepage:{},adBlocked:!1,focusMode:!1,posts:{zh:[{title:"快速上手",dir:Z},{title:"入门篇",dir:U,children:[{title:"获取 ECharts",dir:j},{title:"在项目中引入 ECharts",dir:q},{title:"资源列表",dir:F,draft:i},{title:"获取灵感",dir:X},{title:"寻求帮助",dir:"help"},{title:"版本介绍",dir:W,children:[{title:J,draft:i,dir:"5-2-0"},{title:"ECharts 5 新特性",dir:K},{title:"ECharts 5 升级指南",dir:Q}]}]},{title:"概念篇",dir:Y,children:[{title:"图表容器及大小",dir:ee},{title:"配置项",dir:te,draft:i},{title:"系列",dir:"series",draft:i},{title:"样式",dir:"style"},{title:"数据集",dir:ae},{title:"数据转换",dir:ne},{title:"坐标系",dir:ie,draft:i},{title:"坐标轴",dir:"axis"},{title:"视觉映射",dir:N},{title:"图例",dir:"legend"},{title:T,dir:I}]},{title:"应用篇",dir:re,children:[{title:"常用图表类型",dir:le,children:[{title:"柱状图",dir:"bar",children:[{title:"基础柱状图",dir:pe},{title:"堆叠柱状图",dir:de},{title:"动态排序柱状图",dir:se,draft:i},{title:"极坐标系柱状图",dir:ce,draft:i},{title:"瀑布图",dir:oe,draft:i},{title:"视觉映射的柱状图",dir:N,draft:i}]},{title:"折线图",dir:"line",children:[{title:"基础折线图",dir:he},{title:"堆叠折线图",dir:ye},{title:"区域面积图",dir:ue},{title:"平滑曲线图",dir:ge},{title:"阶梯线图",dir:me}]},{title:"饼图",dir:"pie",children:[{title:"基础饼图",dir:ve},{title:"圆环图",dir:fe},{title:"南丁格尔图（玫瑰图）",dir:"rose"}]},{title:"散点图",dir:Ee,children:[{title:"基础散点图",dir:Be}]}]},{title:"移动端优化",dir:k,draft:i},{title:"跨平台方案",dir:xe,children:[{title:"百度智能小程序",dir:"baidu-app"},{title:"微信小程序",dir:"wechat-app"},{title:"服务端渲染",dir:"server"}]},{title:"数据处理",dir:"data",children:[{title:"动态的异步数据",dir:be},{title:"数据下钻",dir:Ce,draft:i}]},{title:"标签",dir:"label",children:[{title:"富文本标签",dir:Ae}]},{title:"交互",dir:ke,children:[{title:"拖拽的实现",dir:"drag"},{title:"多图联动",dir:Ie,draft:i}]}]},{title:"最佳实践",dir:Te,children:[{title:"移动端优化",dir:k,draft:i},{title:Ne,dir:we},{title:"无障碍访问",dir:"aria"}]},{title:"编辑本文档",dir:"meta",children:[{title:"文档编辑指南",dir:Pe}]}],en:[{title:"Get Started",dir:Z},{title:"Basics",dir:U,children:[{title:"Download ECharts",dir:j},{title:"Import ECharts",dir:q},{title:"Resources",dir:F,draft:i},{title:"Inspiration",dir:X},{title:"Get Help",dir:"help"},{title:"Release Note",dir:W,children:[{title:J,draft:i,dir:"5-2-0"},{title:"ECharts 5 Features",dir:K},{title:"ECharts 5 Upgrade Guide",dir:Q}]}]},{title:"Concepts",dir:Y,children:[{title:"Chart Container",dir:ee},{title:"Chart Option",dir:te,draft:i},{title:"Series",dir:"series",draft:i},{title:"Style",dir:"style"},{title:"Dataset",dir:ae},{title:"Data Transform",dir:ne},{title:"Coordinate",dir:ie,draft:i},{title:"Axis",dir:"axis"},{title:"Visual Mapping",dir:N},{title:"Legend",dir:"legend"},{title:"Event and Action",dir:I}]},{title:"Application",dir:re,children:[{title:"Common Charts",dir:le,children:[{title:"Bar",dir:"bar",children:[{title:"Basic Bar",dir:pe},{title:"Stacked Bar",dir:de},{title:"Bar Racing",dir:se,draft:i},{title:"Bar Polar",dir:ce,draft:i},{title:"Waterfall",dir:oe,draft:i}]},{title:"Line",dir:"line",children:[{title:"Basic Line",dir:he},{title:"Stacked Line",dir:ye},{title:"Area Chart",dir:ue},{title:"Smoothed Line",dir:ge},{title:"Step Line",dir:me}]},{title:"Pie",dir:"pie",children:[{title:"Basic Pie",dir:ve},{title:"Ring Style",dir:fe},{title:"Rose Style",dir:"rose"}]},{title:"Scatter",dir:Ee,children:[{title:"Basic Scatter",dir:Be}]}]},{title:"Mobile",dir:k,draft:i},{title:"Cross Platform",dir:xe,children:[{title:"Server Side Rendering",dir:"server"}]},{title:"Data",dir:"data",children:[{title:"Dynamic Data",dir:be},{title:"Drilldown",dir:Ce,draft:i}]},{title:"Label",dir:"label",children:[{title:"Rich Text",dir:Ae}]},{title:"Interaction",dir:ke,children:[{title:"Drag",dir:"drag"},{title:"Connect",dir:Ie,draft:i}]}]},{title:"Best Practice",dir:Te,children:[{title:"Mobile Optimization",dir:k,draft:i},{title:Ne,dir:we},{title:"Aria",dir:"aria"}]},{title:"Edit Handbook",dir:"meta",children:[{title:"Edit Guide",dir:Pe}]}]},config:{routerBase:"/handbook",rootPath:"https://echarts.apache.org/handbook/",exampleViewPath:"https://echarts.apache.org/examples/${lang}/view.html?c=",exampleEditorPath:"https://echarts.apache.org/examples/${lang}/editor.html?c=",mainSitePath:"https://echarts.apache.org/",optionPath:"https://echarts.apache.org/option.html#",gitRepo:"apache/echarts-handbook"},i18n:{routeParams:{}}},serverRendered:i,routePath:M,config:{_app:{basePath:"/handbook/",assetsPath:"/handbook/_nuxt/",cdnURL:V},content:{dbHash:"570e7c13"}}}}("text","element","\n","",!0,"p","code","div","nuxt-content-highlight","md-code-block","js","a","、 ","true","span","icon","icon-link","鼠标事件的处理","组件交互的行为事件","nofollow","noopener","noreferrer","_blank","h2","例如：","mobile","event","事件与行为","visual-map","代码触发-echarts-中组件的行为","代码触发 ECharts 中组件的行为","监听空白处的事件","监听“空白处”的事件","https://echarts.apache.org/api.html#events.legendselectchanged","'legendselectchanged'","md-live","query","string","Object","如果为 "," 文档中有列出。","/zh/concepts/event",null,"get-started","basics","download","import","resource","inspiration","release-note","ECharts 5.2.0","v5-feature","v5-upgrade-guide","concepts","chart-size","options","dataset","data-transform","coordinate","application","chart-types","basic-bar","stacked-bar","bar-race","polar-bar","waterfall","basic-line","stacked-line","area-line","smooth-line","step-line","basic-pie","doughnut","scatter","basic-scatter","cross-platform","dynamic-data","drilldown","rich-text","interaction","connect","best-practice","Canvas vs. SVG","canvas-vs-svg","edit-guide")</script><script src="/handbook/_nuxt/a9bbbfa.js" defer></script><script src="/handbook/_nuxt/js/5f203866781801df115b.js" defer></script><script src="/handbook/_nuxt/js/9fd40f9dd0812421e4d6.js" defer></script><script src="/handbook/_nuxt/js/846067a4901846a78c55.js" defer></script><script src="/handbook/_nuxt/js/a6e0d8fa172ac07d4546.js" defer></script><script src="/handbook/_nuxt/js/ef651565e34f4fce561e.js" defer></script>
        <script src="https://cdn.jsdelivr.net/npm/jquery@2.2.4/dist/jquery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js"></script>
    </body>
</html>
